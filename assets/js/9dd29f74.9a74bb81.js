"use strict";(self.webpackChunkminetrax_github_io=self.webpackChunkminetrax_github_io||[]).push([[1754],{4099:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"installation/setup-web-docker","title":"Setup Web (Docker)","description":"MineTrax can be installed using Docker. This is quick and easy way to get started with MineTrax.","source":"@site/docs/installation/setup-web-docker.mdx","sourceDirName":"installation","slug":"/installation/setup-web-docker","permalink":"/docs/installation/setup-web-docker","draft":false,"unlisted":false,"editUrl":"https://github.com/minetrax/minetrax.github.io/edit/main/docs/installation/setup-web-docker.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Setup Web (Docker)","id":"setup-web-docker"},"sidebar":"tutorialSidebar","previous":{"title":"Setup Web (Manually)","permalink":"/docs/installation/setup-web-manually"},"next":{"title":"Setup Web SSL","permalink":"/docs/installation/setup-web-ssl"}}');var r=s(4848),o=s(8453);const t={sidebar_position:3,title:"Setup Web (Docker)",id:"setup-web-docker"},a=void 0,d={},c=[{value:"Server Requirements",id:"server-requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Cloning the codes from Github",id:"cloning-the-codes-from-github",level:3},{value:"Running the Docker",id:"running-the-docker",level:3},{value:"Finalize",id:"finalize",level:3},{value:"SSL &amp; Domain Setup",id:"ssl--domain-setup",level:3},{value:"SSL with Nginx Reverse Proxy",id:"ssl-with-nginx-reverse-proxy",level:4},{value:"Others Ways",id:"others-ways",level:4},{value:"Updating to Latest Version",id:"updating-to-latest-version",level:3},{value:"What&#39;s Next?",id:"whats-next",level:3},{value:"Available Docker Commands",id:"available-docker-commands",level:2},{value:"1. <code>bash docker-run.sh up</code>",id:"1-bash-docker-runsh-up",level:3},{value:"2. <code>bash docker-run.sh down</code>",id:"2-bash-docker-runsh-down",level:3},{value:"3. <code>bash docker-run.sh logs</code>",id:"3-bash-docker-runsh-logs",level:3},{value:"4. <code>bash docker-run.sh optimize</code>",id:"4-bash-docker-runsh-optimize",level:3},{value:"5. <code>bash docker-run.sh artisan {command}</code>",id:"5-bash-docker-runsh-artisan-command",level:3},{value:"6. <code>bash docker-run.sh buildfrontend</code>",id:"6-bash-docker-runsh-buildfrontend",level:3},{value:"7. <code>docker compose exec -it minetrax bash</code>",id:"7-docker-compose-exec--it-minetrax-bash",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"MineTrax can be installed using Docker. This is quick and easy way to get started with MineTrax."}),"\n",(0,r.jsx)(n.h2,{id:"server-requirements",children:"Server Requirements"}),"\n",(0,r.jsx)(n.p,{children:"Web (Docker) requires a VPS or Dedicated Server with atleast 4GB of RAM and 2 vCPU. Docker and Git must be installed in your server."}),"\n",(0,r.jsx)(n.p,{children:"If you don't have Docker or Git installed, you can follow their official documentation to install them:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.docker.com/engine/install/",children:"Install Docker"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git",children:"Install Git"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.h3,{id:"cloning-the-codes-from-github",children:"Cloning the codes from Github"}),"\n",(0,r.jsx)(n.p,{children:"Create a folder in location of your choice and clone the MineTrax git repo to it."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/minetrax\ncd ~/minetrax\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now clone the MineTrax git repo to the newly created folder & copy the ",(0,r.jsx)(n.code,{children:".env.example"})," file to ",(0,r.jsx)(n.code,{children:".env"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/MineTrax/minetrax.git .\ncp .env.example .env\n\nchmod u+x docker-run.sh\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Change default http Port",type:"info",children:[(0,r.jsxs)(n.p,{children:["By default MineTrax in Docker runs on port ",(0,r.jsx)(n.code,{children:"80"}),". If you want to change the port, you can do so by adding ",(0,r.jsx)(n.code,{children:"APP_PORT"})," variable in the ",(0,r.jsx)(n.code,{children:".env"})," file."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title=".env"',children:"APP_PORT=8080\n"})})]}),"\n",(0,r.jsx)(n.h3,{id:"running-the-docker",children:"Running the Docker"}),"\n",(0,r.jsxs)(n.p,{children:["Run the ",(0,r.jsx)(n.code,{children:"docker-run.sh"})," script to start MineTrax."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"bash docker-run.sh up\n"})}),"\n",(0,r.jsx)(n.h3,{id:"finalize",children:"Finalize"}),"\n",(0,r.jsxs)(n.p,{children:["Now minetrax should be up and running on your domain ",(0,r.jsx)(n.code,{children:"http://your_server_ip"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"A SuperAdmin user is created already for you, you can login and change the password:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Username: superadmin\nPassword: admin123\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"CHANGE PASSWORD & EMAIL",type:"danger",children:[(0,r.jsxs)(n.p,{children:["It is very important that you change the ",(0,r.jsx)(n.strong,{children:"password"})," & ",(0,r.jsx)(n.strong,{children:"email"})," of the ",(0,r.jsx)(n.code,{children:"superadmin"})," user after logging in."]}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:["You can change password from ",(0,r.jsx)(n.code,{children:"Edit Profile"})," section and email from ",(0,r.jsx)(n.code,{children:"Admin > Users"})," section"]})})]}),"\n",(0,r.jsxs)(n.p,{children:["After checking your site is up and running, make sure to change ",(0,r.jsx)(n.code,{children:"APP_ENV=production"})," and ",(0,r.jsx)(n.code,{children:"APP_DEBUG=false"})," in the ",(0,r.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title=".env"',children:'APP_NAME="YOUR_DESIRED_APP_NAME"\nAPP_URL=http://your_server_ip\nAPP_ENV=production\nAPP_DEBUG=false\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"./docker-run.sh optimize"})," after updating the ",(0,r.jsx)(n.code,{children:".env"})," file to apply changes."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"bash docker-run.sh optimize\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"DISABLE DEBUG MODE",type:"danger",children:[(0,r.jsxs)(n.p,{children:["It is very important that you change your ",(0,r.jsx)(n.strong,{children:"APP_ENV"})," to ",(0,r.jsx)(n.code,{children:"production"})," and ",(0,r.jsx)(n.strong,{children:"APP_DEBUG"})," to ",(0,r.jsx)(n.code,{children:"false"})," in the ",(0,r.jsx)(n.code,{children:".env"})," file when you are done testing and setting up the site."]}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Keeping APP_ENV to ",(0,r.jsx)(n.code,{children:"local"})," or APP_DEBUG to ",(0,r.jsx)(n.code,{children:"true"})," might expose sensitive information to end users."]})})]}),"\n",(0,r.jsx)(n.h3,{id:"ssl--domain-setup",children:"SSL & Domain Setup"}),"\n",(0,r.jsx)(n.p,{children:"Current docker setup does not include SSL setup and let you setup your own as per your needs.\nIf you want to enable SSL on your site you can use Proxy (eg: Nginx) or Cloudflare."}),"\n",(0,r.jsx)(n.h4,{id:"ssl-with-nginx-reverse-proxy",children:"SSL with Nginx Reverse Proxy"}),"\n",(0,r.jsx)(n.p,{children:"If you want to use SSL with Nginx Proxy, you can follow below steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Point your domain/subdomain to the VPS IP address in your Domain Provider DNS setting with ",(0,r.jsx)(n.code,{children:"A record"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.code,{children:"APP_PORT"})," variable in ",(0,r.jsx)(n.code,{children:".env"})," file with some different port than 80 (eg: 8080) so it does not conflict with Nginx."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Update your ",(0,r.jsx)(n.code,{children:"APP_URL"})," variable in ",(0,r.jsx)(n.code,{children:".env"})," file to use your domain with ",(0,r.jsx)(n.code,{children:"https"})," & run ",(0,r.jsx)(n.code,{children:"bash docker-run.sh optimize"})," again."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:'title=".env"',children:"APP_URL=https://yourdomain.com\nAPP_PORT=8080\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install Nginx on your server if not already there and then setup a reverse proxy to the docker container."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"vim /etc/nginx/sites-available/minetrax.conf\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Add below configuration to the file and save it. Make sure to replace ",(0,r.jsx)(n.code,{children:"yourdomain.com"})," with your actual domain."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-nginx",metastring:'title="/etc/nginx/sites-available/minetrax.conf"',children:"server {\nlisten 80;\n// highlight-next-line\nserver_name yourdomain.com www.yourdomain.com;\n\nlocation / {\n    proxy_pass http://localhost:8080;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Enable the site and restart Nginx."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ln -s /etc/nginx/sites-available/minetrax.conf /etc/nginx/sites-enabled/minetrax.conf\nsystemctl restart nginx\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Install CertBot to get SSL certificate for your domain."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt-get install certbot python3-certbot-nginx\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run below command to get SSL certificate for your domain."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"certbot --nginx -d yourdomain.com -d www.yourdomain.com\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Your site should now be accessible with ",(0,r.jsx)(n.code,{children:"https"})," and SSL enabled."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"others-ways",children:"Others Ways"}),"\n",(0,r.jsx)(n.p,{children:"There are multiple other ways to setup SSL on your site, you can use Cloudflare, Custom Certificate or any other service you prefer.\nPing us on Discord if you need help with setting up SSL."}),"\n",(0,r.jsx)(n.h3,{id:"updating-to-latest-version",children:"Updating to Latest Version"}),"\n",(0,r.jsx)(n.p,{children:"To update to the latest version of minetrax, you can run below command (from minetrax directory):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"bash docker-run.sh down\nbash docker-run.sh up\n"})}),"\n",(0,r.jsx)(n.h3,{id:"whats-next",children:"What's Next?"}),"\n",(0,r.jsx)(n.p,{children:"Now you are all set to go, you can start using minetrax and add your servers to it.\nBelow are some steps to follow next:"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../installation/adding-minecraft-server",children:"Add your First Minecraft Server to Web"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"../installation/setup-plugin",children:"Install Plugin on your Minecraft Server"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"available-docker-commands",children:"Available Docker Commands"}),"\n",(0,r.jsxs)(n.h3,{id:"1-bash-docker-runsh-up",children:["1. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh up"})]}),"\n",(0,r.jsx)(n.p,{children:"This command is used to fetch latest version of minetrax and then run the containers."}),"\n",(0,r.jsx)(n.p,{children:"Whenever there is any change made to code you should run it to get latest changes."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"bash docker-run.sh down\nbash docker-run.sh up\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"2-bash-docker-runsh-down",children:["2. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh down"})]}),"\n",(0,r.jsxs)(n.p,{children:["This command is used to stop and remove all the containers. This will ",(0,r.jsx)(n.strong,{children:"not"})," remove any data or database. You can safely run this command if you want to stop minetrax for some time."]}),"\n",(0,r.jsxs)(n.h3,{id:"3-bash-docker-runsh-logs",children:["3. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh logs"})]}),"\n",(0,r.jsx)(n.p,{children:"This command is used to view logs of all the containers. You can use this command to debug any issues you might face."}),"\n",(0,r.jsxs)(n.h3,{id:"4-bash-docker-runsh-optimize",children:["4. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh optimize"})]}),"\n",(0,r.jsxs)(n.p,{children:["This command is used to clear old config cache and re-cache the config. This is useful when you change any environment variables or update your ",(0,r.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,r.jsxs)(n.h3,{id:"5-bash-docker-runsh-artisan-command",children:["5. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh artisan {command}"})]}),"\n",(0,r.jsxs)(n.p,{children:["This command is used to run any ",(0,r.jsx)(n.code,{children:"artisan"})," commands. For example, if you want to clear cache, you can use this command."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Clear cache\nbash docker-run.sh artisan cache:clear\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"6-bash-docker-runsh-buildfrontend",children:["6. ",(0,r.jsx)(n.code,{children:"bash docker-run.sh buildfrontend"})]}),"\n",(0,r.jsxs)(n.p,{children:["This command is used to build frontend assets. It will run ",(0,r.jsx)(n.code,{children:"npm install"})," and then ",(0,r.jsx)(n.code,{children:"npm run prod"}),".\nThis can be helpful if you are developing and using your own theme."]}),"\n",(0,r.jsxs)(n.h3,{id:"7-docker-compose-exec--it-minetrax-bash",children:["7. ",(0,r.jsx)(n.code,{children:"docker compose exec -it minetrax bash"})]}),"\n",(0,r.jsx)(n.p,{children:"SSH into the main docker container to test things or run some commands."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);